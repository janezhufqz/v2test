<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Cms Smartedit Container Docs</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Cms Smartedit Container Docs</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">











<ol class="breadcrumb">
  <li>Classes</li>
  <li>ClonePageWizardController</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts</code>
        </p>





            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#basePageUUID">basePageUUID</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#callbacks">callbacks</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#CLONE_PAGE_WIZARD_STEPS">CLONE_PAGE_WIZARD_STEPS</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#cloneInprogress">cloneInprogress</a>
                            </li>
                            <li>
                                <a href="#getBasePageInfo">getBasePageInfo</a>
                            </li>
                            <li>
                                <a href="#getPageInfo">getPageInfo</a>
                            </li>
                            <li>
                                <a href="#getPageInfoStructure">getPageInfoStructure</a>
                            </li>
                            <li>
                                <a href="#getPageLabel">getPageLabel</a>
                            </li>
                            <li>
                                <a href="#getPageRestrictions">getPageRestrictions</a>
                            </li>
                            <li>
                                <a href="#getPageTemplate">getPageTemplate</a>
                            </li>
                            <li>
                                <a href="#getPageTypeCode">getPageTypeCode</a>
                            </li>
                            <li>
                                <a href="#getRestrictionTypes">getRestrictionTypes</a>
                            </li>
                            <li>
                                <a href="#getSupportedRestrictionTypes">getSupportedRestrictionTypes</a>
                            </li>
                            <li>
                                <a href="#getTargetCatalogVersion">getTargetCatalogVersion</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getWizardConfig">getWizardConfig</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#infoChanged">infoChanged</a>
                            </li>
                            <li>
                                <a href="#isBasePageInfoAvailable">isBasePageInfoAvailable</a>
                            </li>
                            <li>
                                <a href="#isFormValid">isFormValid</a>
                            </li>
                            <li>
                                <a href="#isPageInfoActive">isPageInfoActive</a>
                            </li>
                            <li>
                                <a href="#isRestrictionsActive">isRestrictionsActive</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#model">model</a>
                            </li>
                            <li>
                                <a href="#onCancel">onCancel</a>
                            </li>
                            <li>
                                <a href="#onDone">onDone</a>
                            </li>
                            <li>
                                <a href="#onNext">onNext</a>
                            </li>
                            <li>
                                <a href="#onTargetCatalogVersionSelected">onTargetCatalogVersionSelected</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#pageBuilder">pageBuilder</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#query">query</a>
                            </li>
                            <li>
                                <a href="#resetQueryFilter">resetQueryFilter</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#restrictionsEditorFunctionBindings">restrictionsEditorFunctionBindings</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#restrictionsEditorFunctionBindingsClosure">restrictionsEditorFunctionBindingsClosure</a>
                            </li>
                            <li>
                                <a href="#restrictionsResult">restrictionsResult</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#restrictionsStepHandler">restrictionsStepHandler</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#restrictionStepProperties">restrictionStepProperties</a>
                            </li>
                            <li>
                                <a href="#triggerUpdateCloneOptionResult">triggerUpdateCloneOptionResult</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#typeChanged">typeChanged</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#uriContext">uriContext</a>
                            </li>
                            <li>
                                <a href="#variationResult">variationResult</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#_preparePagePayload">_preparePagePayload</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(wizardManager: WizardService, ClonePageBuilderFactory, restrictionsStepHandlerFactory: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, experienceService: IExperienceService, confirmationModalService: IConfirmationModalService, systemEventService: SystemEventService, pageRestrictionsFacade: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, restrictionsService: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, sharedDataService: ISharedDataService, clonePageAlertService: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, alertService: IAlertService, pageFacade: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, pageSynchronizationService: PageSynchronizationService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="66" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:66</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>wizardManager</td>
                                                  
                                                        <td>
                                                                    <code>WizardService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ClonePageBuilderFactory</td>
                                                  
                                                        <td>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>restrictionsStepHandlerFactory</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>experienceService</td>
                                                  
                                                        <td>
                                                                    <code>IExperienceService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>confirmationModalService</td>
                                                  
                                                        <td>
                                                                    <code>IConfirmationModalService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>systemEventService</td>
                                                  
                                                        <td>
                                                                    <code>SystemEventService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>pageRestrictionsFacade</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>restrictionsService</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>sharedDataService</td>
                                                  
                                                        <td>
                                                                    <code>ISharedDataService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>clonePageAlertService</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>alertService</td>
                                                  
                                                        <td>
                                                                    <code>IAlertService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>pageFacade</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>pageSynchronizationService</td>
                                                  
                                                        <td>
                                                                    <code>PageSynchronizationService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="basePageUUID"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            basePageUUID</b>
                            <a href="#basePageUUID"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.wizardManager.properties.basePageUUID</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:29</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="callbacks"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            callbacks</b>
                            <a href="#callbacks"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>TypedMap&lt;any&gt;</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:28</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="CLONE_PAGE_WIZARD_STEPS"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                                <span class="modifier">Readonly</span>
                            CLONE_PAGE_WIZARD_STEPS</b>
                            <a href="#CLONE_PAGE_WIZARD_STEPS"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
        PAGE_CLONE_OPTIONS: &#x27;cloneOptions&#x27;,
        PAGE_INFO: &#x27;pageInfo&#x27;,
        PAGE_RESTRICTIONS: this.restrictionStepProperties.id
    }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:62</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="cloneInprogress"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            cloneInprogress</b>
                            <a href="#cloneInprogress"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:45</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getBasePageInfo"></a>
                        <span class="name">
                            <b>
                            getBasePageInfo</b>
                            <a href="#getBasePageInfo"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="243" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:243</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPageInfo"></a>
                        <span class="name">
                            <b>
                            getPageInfo</b>
                            <a href="#getPageInfo"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="236" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:236</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPageInfoStructure"></a>
                        <span class="name">
                            <b>
                            getPageInfoStructure</b>
                            <a href="#getPageInfoStructure"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="266" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:266</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPageLabel"></a>
                        <span class="name">
                            <b>
                            getPageLabel</b>
                            <a href="#getPageLabel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="228" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:228</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPageRestrictions"></a>
                        <span class="name">
                            <b>
                            getPageRestrictions</b>
                            <a href="#getPageRestrictions"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="249" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:249</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPageTemplate"></a>
                        <span class="name">
                            <b>
                            getPageTemplate</b>
                            <a href="#getPageTemplate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="232" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:232</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getPageTypeCode"></a>
                        <span class="name">
                            <b>
                            getPageTypeCode</b>
                            <a href="#getPageTypeCode"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="224" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:224</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getRestrictionTypes"></a>
                        <span class="name">
                            <b>
                            getRestrictionTypes</b>
                            <a href="#getRestrictionTypes"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="300" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:300</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getSupportedRestrictionTypes"></a>
                        <span class="name">
                            <b>
                            getSupportedRestrictionTypes</b>
                            <a href="#getSupportedRestrictionTypes"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="304" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:304</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getTargetCatalogVersion"></a>
                        <span class="name">
                            <b>
                            getTargetCatalogVersion</b>
                            <a href="#getTargetCatalogVersion"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="308" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:308</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getWizardConfig"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            getWizardConfig</b>
                            <a href="#getWizardConfig"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:86</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="infoChanged"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            infoChanged</b>
                            <a href="#infoChanged"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>true</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:39</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isBasePageInfoAvailable"></a>
                        <span class="name">
                            <b>
                            isBasePageInfoAvailable</b>
                            <a href="#isBasePageInfoAvailable"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="312" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:312</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isFormValid"></a>
                        <span class="name">
                            <b>
                            isFormValid</b>
                            <a href="#isFormValid"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="116" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:116</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isPageInfoActive"></a>
                        <span class="name">
                            <b>
                            isPageInfoActive</b>
                            <a href="#isPageInfoActive"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="285" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:285</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isRestrictionsActive"></a>
                        <span class="name">
                            <b>
                            isRestrictionsActive</b>
                            <a href="#isRestrictionsActive"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="274" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:274</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="model"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            model</b>
                            <a href="#model"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
        page: {},
        sharedPage: {}
    }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:40</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onCancel"></a>
                        <span class="name">
                            <b>
                            onCancel</b>
                            <a href="#onCancel"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="109" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:109</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onDone"></a>
                        <span class="name">
                            <b>
                            onDone</b>
                            <a href="#onDone"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="140" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:140</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onNext"></a>
                        <span class="name">
                            <b>
                            onNext</b>
                            <a href="#onNext"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="136" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:136</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onTargetCatalogVersionSelected"></a>
                        <span class="name">
                            <b>
                            onTargetCatalogVersionSelected</b>
                            <a href="#onTargetCatalogVersionSelected"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="258" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:258</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="pageBuilder"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            pageBuilder</b>
                            <a href="#pageBuilder"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/IClonePageBuilder.html" target="_self" >IClonePageBuilder</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new this.ClonePageBuilderFactory(
        this.restrictionsStepHandler,
        this.basePageUUID,
        this.uriContext
    )</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:53</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="query"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            query</b>
                            <a href="#query"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
        value: &#x27;&#x27;
    }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:58</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="resetQueryFilter"></a>
                        <span class="name">
                            <b>
                            resetQueryFilter</b>
                            <a href="#resetQueryFilter"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="296" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:296</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="restrictionsEditorFunctionBindings"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            restrictionsEditorFunctionBindings</b>
                            <a href="#restrictionsEditorFunctionBindings"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.restrictionsEditorFunctionBindingsClosure</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:37</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="restrictionsEditorFunctionBindingsClosure"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            restrictionsEditorFunctionBindingsClosure</b>
                            <a href="#restrictionsEditorFunctionBindingsClosure"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>TypedMap&lt;void&gt;</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:36</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="restrictionsResult"></a>
                        <span class="name">
                            <b>
                            restrictionsResult</b>
                            <a href="#restrictionsResult"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="270" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:270</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="restrictionsStepHandler"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            restrictionsStepHandler</b>
                            <a href="#restrictionsStepHandler"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.restrictionsStepHandlerFactory.createRestrictionsStepHandler(
        this.wizardManager,
        this.restrictionsEditorFunctionBindingsClosure,
        this.restrictionStepProperties
    )</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:47</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="restrictionStepProperties"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            restrictionStepProperties</b>
                            <a href="#restrictionStepProperties"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>{
        id: &#x27;restrictionsStepId&#x27;,
        name: &#x27;se.cms.restrictions.editor.tab&#x27;,
        title: &#x27;se.cms.clonepagewizard.pageclone.title&#x27;,
        templateUrl: &#x27;clonePageRestrictionsStepTemplate.html&#x27;
    }</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:30</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="triggerUpdateCloneOptionResult"></a>
                        <span class="name">
                            <b>
                            triggerUpdateCloneOptionResult</b>
                            <a href="#triggerUpdateCloneOptionResult"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="262" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:262</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="typeChanged"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            typeChanged</b>
                            <a href="#typeChanged"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>true</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:38</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="uriContext"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            uriContext</b>
                            <a href="#uriContext"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>IUriContext</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.wizardManager.properties.uriContext</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:27</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="variationResult"></a>
                        <span class="name">
                            <b>
                            variationResult</b>
                            <a href="#variationResult"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="253" class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:253</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_preparePagePayload"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            _preparePagePayload
                        </b>
                        <a href="#_preparePagePayload"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_preparePagePayload(page: ICMSPage)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="208"
                            class="link-to-prism">compodocs/cmssmarteditContainer/services/clonePage/clonePageWizardController.ts:208</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>page</td>
                                    <td>
                                            <code>ICMSPage</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>ICMSPage</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>





    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import * as lodash from &#x27;lodash&#x27;;

import {
    GenericEditorStructure,
    GENERIC_EDITOR_UNRELATED_VALIDATION_MESSAGES_EVENT,
    IAlertService,
    ICatalogVersion,
    IConfirmationModalService,
    IExperience,
    IExperienceService,
    ISharedDataService,
    IUriContext,
    SystemEventService,
    TypedMap,
    WizardConfig,
    WizardService,
    WizardStep
} from &#x27;smarteditcommons&#x27;;
import { IClonePageBuilder } from &#x27;./clonePageBuilderFactory&#x27;;
import { PageSynchronizationService } from &#x27;../../dao/PageSynchronizationService&#x27;;
import { CMSRestriction, ICMSPage } from &#x27;../../../cmscommons/dtos&#x27;;

export class ClonePageWizardController {
    public uriContext: IUriContext &#x3D; this.wizardManager.properties.uriContext;
    public callbacks: TypedMap&lt;() &#x3D;&gt; any&gt; &#x3D; {};
    public basePageUUID &#x3D; this.wizardManager.properties.basePageUUID;
    public restrictionStepProperties &#x3D; {
        id: &#x27;restrictionsStepId&#x27;,
        name: &#x27;se.cms.restrictions.editor.tab&#x27;,
        title: &#x27;se.cms.clonepagewizard.pageclone.title&#x27;,
        templateUrl: &#x27;clonePageRestrictionsStepTemplate.html&#x27;
    };
    public restrictionsEditorFunctionBindingsClosure: TypedMap&lt;() &#x3D;&gt; void&gt; &#x3D; {}; // bound in the view for restrictions step
    public restrictionsEditorFunctionBindings &#x3D; this.restrictionsEditorFunctionBindingsClosure;
    public typeChanged &#x3D; true;
    public infoChanged &#x3D; true;
    public model &#x3D; {
        page: {},
        sharedPage: {}
    };

    private cloneInprogress: boolean &#x3D; false;

    private restrictionsStepHandler &#x3D; this.restrictionsStepHandlerFactory.createRestrictionsStepHandler(
        this.wizardManager,
        this.restrictionsEditorFunctionBindingsClosure,
        this.restrictionStepProperties
    );

    private pageBuilder: IClonePageBuilder &#x3D; new this.ClonePageBuilderFactory(
        this.restrictionsStepHandler,
        this.basePageUUID,
        this.uriContext
    );
    private query &#x3D; {
        value: &#x27;&#x27;
    };
    // Constants
    private readonly CLONE_PAGE_WIZARD_STEPS &#x3D; {
        PAGE_CLONE_OPTIONS: &#x27;cloneOptions&#x27;,
        PAGE_INFO: &#x27;pageInfo&#x27;,
        PAGE_RESTRICTIONS: this.restrictionStepProperties.id
    };

    /* @ngInject */
    constructor(
        private wizardManager: WizardService,
        private ClonePageBuilderFactory: new (...args: any[]) &#x3D;&gt; IClonePageBuilder,
        private restrictionsStepHandlerFactory: any,
        private experienceService: IExperienceService,
        private confirmationModalService: IConfirmationModalService,
        private systemEventService: SystemEventService,
        private pageRestrictionsFacade: any,
        private restrictionsService: any,
        private sharedDataService: ISharedDataService,
        private clonePageAlertService: any,
        private alertService: IAlertService,
        private pageFacade: any,
        private pageSynchronizationService: PageSynchronizationService
    ) {}

    // Wizard Configuration
    public getWizardConfig &#x3D; (): WizardConfig &#x3D;&gt; {
        return {
            isFormValid: (stepId: string) &#x3D;&gt; this.isFormValid(stepId),
            onNext: () &#x3D;&gt; this.onNext(),
            onDone: () &#x3D;&gt; this.onDone(),
            onCancel: () &#x3D;&gt; this.onCancel(),
            steps: [
                {
                    id: this.CLONE_PAGE_WIZARD_STEPS.PAGE_CLONE_OPTIONS,
                    name: &#x27;se.cms.clonepagewizard.pagecloneoptions.tabname&#x27;,
                    title: &#x27;se.cms.clonepagewizard.pageclone.title&#x27;,
                    templateUrl: &#x27;clonePageOptionsStepTemplate.html&#x27;
                } as WizardStep,
                {
                    id: this.CLONE_PAGE_WIZARD_STEPS.PAGE_INFO,
                    name: &#x27;se.cms.clonepagewizard.pageinfo.tabname&#x27;,
                    title: &#x27;se.cms.clonepagewizard.pageclone.title&#x27;,
                    templateUrl: &#x27;clonePageInfoStepTemplate.html&#x27;
                } as WizardStep
            ]
        };
    };

    onCancel &#x3D; (): Promise&lt;any&gt; &#x3D;&gt; {
        return this.confirmationModalService.confirm({
            description: &#x27;se.editor.cancel.confirm&#x27;
        }) as Promise&lt;any&gt;;
    };

    // Wizard Navigation
    isFormValid &#x3D; (stepId: string): boolean &#x3D;&gt; {
        switch (stepId) {
            case this.CLONE_PAGE_WIZARD_STEPS.PAGE_CLONE_OPTIONS:
                // This step has no required inputs. However we set the valid status as soon as the data is fetched to avoid
                // modal NEXT button enabled status to be true before content is actually loaded.
                return this.isBasePageInfoAvailable();

            case this.CLONE_PAGE_WIZARD_STEPS.PAGE_INFO:
                return (
                    !this.cloneInprogress &amp;&amp;
                    this.callbacks.isValidPageInfo &amp;&amp;
                    this.callbacks.isValidPageInfo()
                );

            case this.CLONE_PAGE_WIZARD_STEPS.PAGE_RESTRICTIONS:
                return !this.cloneInprogress &amp;&amp; this.pageBuilder.getPageRestrictions().length &gt; 0;
        }
        return false;
    };

    onNext &#x3D; (): boolean &#x3D;&gt; {
        return true;
    };

    onDone &#x3D; () &#x3D;&gt; {
        this.cloneInprogress &#x3D; true;
        return this.callbacks.savePageInfo().then(
            (page: ICMSPage) &#x3D;&gt; {
                const payload &#x3D; this._preparePagePayload(page);

                if (this.pageBuilder.getTargetCatalogVersion()) {
                    payload.siteId &#x3D; this.pageBuilder.getTargetCatalogVersion().siteId;
                    payload.catalogId &#x3D; this.pageBuilder.getTargetCatalogVersion().catalogId;
                    payload.version &#x3D; this.pageBuilder.getTargetCatalogVersion().version;
                }
                return this.sharedDataService.get(&#x27;experience&#x27;).then((experience: IExperience) &#x3D;&gt; {
                    return this.pageFacade.createPageForSite(payload, payload.siteId).then(
                        (response: ICMSPage) &#x3D;&gt; {
                            const forceGetSynchronization &#x3D; true;
                            this.pageSynchronizationService.getSyncStatus(
                                payload.pageUuid,
                                this.uriContext,
                                forceGetSynchronization
                            );

                            if (
                                experience.catalogDescriptor.catalogVersionUuid &#x3D;&#x3D;&#x3D;
                                response.catalogVersion
                            ) {
                                this.experienceService.loadExperience({
                                    siteId: payload.siteId,
                                    catalogId: payload.catalogId,
                                    catalogVersion: payload.version,
                                    pageId: response.uid
                                });
                            } else {
                                this.clonePageAlertService.displayClonePageAlert(response);
                            }
                            return this.alertService.showSuccess({
                                message: &#x27;se.cms.clonepage.alert.success&#x27;
                            });
                        },
                        (failure: any) &#x3D;&gt; {
                            this.cloneInprogress &#x3D; false; // re-enable the button
                            this.systemEventService.publishAsync(
                                GENERIC_EDITOR_UNRELATED_VALIDATION_MESSAGES_EVENT,
                                {
                                    messages: failure.error.errors
                                }
                            );

                            if (
                                !failure.error.errors.find((error: any) &#x3D;&gt; {
                                    return error.subject.indexOf(&#x27;restrictions&#x27;) &#x3D;&#x3D;&#x3D; 0;
                                })
                            ) {
                                this.wizardManager.goToStepWithId(
                                    this.CLONE_PAGE_WIZARD_STEPS.PAGE_INFO
                                );
                            }

                            return Promise.reject();
                        }
                    );
                });
            },
            () &#x3D;&gt; {
                this.cloneInprogress &#x3D; false; // re-enable the button
            }
        );
    };

    public _preparePagePayload(page: ICMSPage): ICMSPage {
        const newClonePage &#x3D; lodash.cloneDeep(page);

        lodash.merge(newClonePage, this.pageBuilder.getPageProperties()); // set page info properties

        newClonePage.cloneComponents &#x3D; this.pageBuilder.getComponentCloneOption() &#x3D;&#x3D;&#x3D; &#x27;clone&#x27;; // set clone option
        newClonePage.itemtype &#x3D; page.typeCode;

        if (this.isRestrictionsActive()) {
            // set restrictions
            newClonePage.restrictions &#x3D; this.pageBuilder.getPageRestrictions();
        }

        return newClonePage;
    }

    getPageTypeCode &#x3D; (): string &#x3D;&gt; {
        return this.pageBuilder.getPageTypeCode();
    };

    getPageLabel &#x3D; (): string &#x3D;&gt; {
        return this.pageBuilder.getPageLabel();
    };

    getPageTemplate &#x3D; (): string &#x3D;&gt; {
        return this.pageBuilder.getPageTemplate();
    };

    getPageInfo &#x3D; (): ICMSPage &#x3D;&gt; {
        const page &#x3D; this.pageBuilder.getPageInfo();
        page.uriContext &#x3D; this.uriContext;

        return page;
    };

    getBasePageInfo &#x3D; (): ICMSPage &#x3D;&gt; {
        const page &#x3D; this.pageBuilder.getBasePageInfo();
        page.uriContext &#x3D; this.uriContext;
        return page;
    };

    getPageRestrictions &#x3D; (): CMSRestriction[] &#x3D;&gt; {
        return this.pageBuilder.getPageRestrictions();
    };

    variationResult &#x3D; (displayConditionResult: ICMSPage): void &#x3D;&gt; {
        this.infoChanged &#x3D; true;
        this.pageBuilder.displayConditionSelected(displayConditionResult);
    };

    onTargetCatalogVersionSelected &#x3D; ($catalogVersion: ICatalogVersion): void &#x3D;&gt; {
        this.pageBuilder.onTargetCatalogVersionSelected($catalogVersion);
    };

    triggerUpdateCloneOptionResult &#x3D; (cloneOptionResult: string): void &#x3D;&gt; {
        this.pageBuilder.componentCloneOptionSelected(cloneOptionResult);
    };

    getPageInfoStructure &#x3D; (): GenericEditorStructure &#x3D;&gt; {
        return this.pageBuilder.getPageInfoStructure();
    };

    restrictionsResult &#x3D; (onlyOneRestrictionMustApply: boolean, restrictions: CMSRestriction[]) &#x3D;&gt; {
        this.pageBuilder.restrictionsSelected(onlyOneRestrictionMustApply, restrictions);
    };

    isRestrictionsActive &#x3D; (): boolean &#x3D;&gt; {
        if (
            !this.typeChanged ||
            this.wizardManager.getCurrentStepId() &#x3D;&#x3D;&#x3D; this.CLONE_PAGE_WIZARD_STEPS.PAGE_RESTRICTIONS
        ) {
            this.typeChanged &#x3D; false;
            return true;
        }
        return false;
    };

    isPageInfoActive &#x3D; (): boolean &#x3D;&gt; {
        if (
            !this.infoChanged ||
            this.wizardManager.getCurrentStepId() &#x3D;&#x3D;&#x3D; this.CLONE_PAGE_WIZARD_STEPS.PAGE_INFO
        ) {
            this.infoChanged &#x3D; false;
            return true;
        }
        return false;
    };

    resetQueryFilter &#x3D; (): void &#x3D;&gt; {
        this.query.value &#x3D; &#x27;&#x27;;
    };

    getRestrictionTypes &#x3D; (): CMSRestriction[] &#x3D;&gt; {
        return this.pageRestrictionsFacade.getRestrictionTypesByPageType(this.getPageTypeCode());
    };

    getSupportedRestrictionTypes &#x3D; (): string[] &#x3D;&gt; {
        return this.restrictionsService.getSupportedRestrictionTypeCodes();
    };

    getTargetCatalogVersion &#x3D; (): ICatalogVersion &#x3D;&gt; {
        return this.pageBuilder.getTargetCatalogVersion();
    };

    isBasePageInfoAvailable &#x3D; (): boolean &#x3D;&gt; {
        return this.pageBuilder.isBasePageInfoAvailable();
    };
}
</code></pre>
    </div>
</div>



                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'ClonePageWizardController.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
